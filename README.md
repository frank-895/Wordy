# Wordy - AI-Powered Document Template System

An intelligent document processing and template generation system that combines
rich text editing with AI-powered content generation and retrieval-augmented
generation (RAG) capabilities.

## ğŸš€ Overview

Wordy is a full-stack application that enables users to create sophisticated
document templates with AI-powered placeholders and context-aware content
generation. The system processes uploaded documents, creates searchable
embeddings, and uses this contextual information to generate relevant content
for template placeholders.

## âœ¨ Key Features

### ğŸ“ Rich Text Template Editor

- **Lexical-based Editor**: Advanced rich text editing with support for
  headings, lists, quotes, and formatting
- **Smart Variables**: Two types of dynamic placeholders:
  - **Context Variables** (`{{variable}}`): Filled from user-provided context
    data
  - **AI Prompts** (`[[prompt]]`): Generated by AI using contextual information

### ğŸ§  AI-Powered Content Generation

- **OpenAI Integration**: Leverages GPT models for intelligent content
  generation
- **Context-Aware Prompts**: AI prompts can access uploaded document context for
  relevant responses
- **Variable Resolution**: Sophisticated placeholder resolution system with
  nested variable support

### ğŸ“š Document Processing & RAG Pipeline

- **Multi-format Support**: Process PDF, DOCX, and plain text documents
- **Intelligent Chunking**: Automatic text segmentation with configurable chunk
  sizes and overlap
- **Vector Embeddings**: Document content converted to searchable embeddings
  using OpenAI's embedding models
- **Semantic Search**: Find relevant document sections to provide context for AI
  generation

### ğŸ¨ Modern Frontend Architecture

- **React 19**: Latest React with modern hooks and patterns
- **TanStack Router**: Type-safe routing with file-based routing structure
- **Tailwind CSS**: Utility-first styling with modern design system
- **TypeScript**: Full type safety across the frontend

### ğŸ—ï¸ Robust Backend Infrastructure

- **Django REST Framework**: Scalable API backend with comprehensive endpoints
- **PostgreSQL/SQLite**: Flexible database configuration (PostgreSQL for
  production, SQLite for development)
- **File Storage**: Secure document upload and storage system
- **Session Management**: Template and document session tracking

## ğŸ›ï¸ Architecture

### Frontend (`/frontend`)

```
src/
â”œâ”€â”€ components/          # Reusable UI components
â”‚   â”œâ”€â”€ LexicalEditor.tsx    # Main rich text editor with variable support
â”‚   â”œâ”€â”€ ContextManager.tsx   # Context data management interface
â”‚   â””â”€â”€ ContextUpload.tsx    # Document upload component
â”œâ”€â”€ routes/              # File-based routing structure
â”‚   â”œâ”€â”€ __root.tsx          # Root layout component
â”‚   â”œâ”€â”€ index.tsx           # Home page
â”‚   â”œâ”€â”€ templates/          # Template management routes
â”‚   â””â”€â”€ editor/             # Template editor routes
â””â”€â”€ contexts/            # React context providers
    â””â”€â”€ SessionContext.tsx   # Session state management
```

### Backend (`/`)

```
â”œâ”€â”€ template_engine/     # Core template processing
â”‚   â”œâ”€â”€ models.py           # Template data models
â”‚   â”œâ”€â”€ services/           # Business logic services
â”‚   â”‚   â”œâ”€â”€ placeholder_resolver.py  # Variable resolution logic
â”‚   â”‚   â”œâ”€â”€ lexical_processor.py     # Lexical JSON processing
â”‚   â”‚   â”œâ”€â”€ llm_client.py           # OpenAI API integration
â”‚   â”‚   â””â”€â”€ pdf_generator.py        # Document generation
â”‚   â””â”€â”€ views.py            # API endpoints
â”œâ”€â”€ rag_pipeline/        # Document processing & RAG
â”‚   â”œâ”€â”€ models.py           # Document and chunk models
â”‚   â”œâ”€â”€ services/           # RAG processing services
â”‚   â”‚   â”œâ”€â”€ rag_pipeline.py         # Main RAG orchestration
â”‚   â”‚   â”œâ”€â”€ document_processor.py   # Multi-format document parsing
â”‚   â”‚   â”œâ”€â”€ text_chunker.py         # Intelligent text chunking
â”‚   â”‚   â””â”€â”€ embedding_service.py    # Vector embedding generation
â”‚   â””â”€â”€ views.py            # Document upload and processing APIs
â””â”€â”€ Wordy/               # Django project configuration
    â”œâ”€â”€ settings.py         # Application configuration
    â””â”€â”€ urls.py             # URL routing
```

## ğŸ› ï¸ Technology Stack

### Frontend

- **React 19** - Modern React with latest features
- **TypeScript** - Type safety and better developer experience
- **TanStack Router** - File-based routing with type safety
- **Lexical** - Extensible rich text editor framework
- **Tailwind CSS** - Utility-first CSS framework
- **Vite** - Fast build tool and development server
- **Lucide React** - Beautiful icon library

### Backend

- **Django 4.2** - Robust web framework
- **Django REST Framework** - API development
- **PostgreSQL/SQLite** - Database options
- **OpenAI API** - AI content generation and embeddings
- **LangChain** - AI application framework
- **PyMuPDF** - PDF processing
- **NLTK** - Natural language processing
- **Scikit-learn** - Machine learning utilities

## ğŸ“‹ Prerequisites

- **Python 3.8+**
- **Node.js 18+**
- **pnpm** (recommended) or npm
- **PostgreSQL** (optional, for production)
- **OpenAI API Key**

## ğŸš€ Quick Start

### 1. Clone the Repository

```bash
git clone <repository-url>
cd wordy
```

### 2. Backend Setup

```bash
# Install Python dependencies
pip install -r requirements.txt

# Set up environment variables
cp .env.example .env
# Edit .env with your OpenAI API key and database settings

# Run migrations
python manage.py migrate

# Start the Django development server
python manage.py runserver
```

### 3. Frontend Setup

```bash
# Navigate to frontend directory
cd frontend

# Install dependencies
pnpm install

# Start the development server
pnpm dev
```

### 4. Environment Configuration

Create a `.env` file in the root directory:

```env
# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here

# Database Configuration (optional)
DATABASE_URL=postgresql://user:password@localhost:5432/wordy
POSTGRES_DB=wordy
POSTGRES_USER=wordy_user
POSTGRES_PASSWORD=wordy_password
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
```

## ğŸ“– Usage Guide

### Creating Templates

1. **Navigate to Templates**: Visit `/templates` to view all templates
2. **Create New Template**: Click "New Template" to open the editor
3. **Add Content**: Use the rich text editor to create your template structure
4. **Insert Variables**:
   - Use `{{variable_name}}` for context-based placeholders
   - Use `[[prompt_description]]` for AI-generated content
5. **Save Template**: Save your template for future use

### Adding Context Documents

1. **Upload Documents**: Use the context upload component to add PDF, DOCX, or
   text files
2. **Automatic Processing**: Documents are automatically processed and chunked
3. **Embedding Generation**: Vector embeddings are created for semantic search
4. **Context Association**: Documents can be associated with specific templates

### Generating Documents

1. **Select Template**: Choose a template from your library
2. **Provide Context**: Fill in any required context variables
3. **Generate**: The system will:
   - Resolve context variables from your input
   - Query relevant document chunks for AI prompts
   - Generate AI content using contextual information
   - Produce the final document

### Variable Types

#### Context Variables (`{{variable}}`)

- Replaced with user-provided values
- Support nested resolution
- Can be used within AI prompts for dynamic context

#### AI Prompts (`[[description]]`)

- Generate content using OpenAI's GPT models
- Automatically receive relevant document context
- Can include context variables for personalization
- Support complex, multi-paragraph generation

## ğŸ”§ API Endpoints

### Templates

- `GET /api/templates/` - List all templates
- `POST /api/templates/` - Create new template
- `GET /api/templates/{id}/` - Get template details
- `PUT /api/templates/{id}/` - Update template
- `DELETE /api/templates/{id}/` - Delete template

### Documents

- `POST /api/documents/upload/` - Upload document
- `GET /api/documents/` - List documents
- `GET /api/documents/{id}/` - Get document details
- `DELETE /api/documents/{id}/` - Delete document

### Generation

- `POST /api/templates/{id}/generate/` - Generate document from template
- `POST /api/templates/{id}/resolve/` - Resolve template variables

## ğŸ§ª Development

### Running Tests

```bash
# Backend tests
python manage.py test

# Frontend tests (if configured)
cd frontend
pnpm test
```

### Code Quality

```bash
# Python linting
flake8 .
black .

# TypeScript checking
cd frontend
pnpm type-check
```

## ğŸš€ Deployment

### Production Considerations

- Set `DEBUG=False` in Django settings
- Configure PostgreSQL database
- Set up proper static file serving
- Configure CORS settings for your domain
- Set secure environment variables
- Consider using Docker for containerization

## ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Make your changes
4. Run tests and linting
5. Commit your changes (`git commit -m 'Add amazing feature'`)
6. Push to the branch (`git push origin feature/amazing-feature`)
7. Open a Pull Request

## ğŸ“„ License

This project is licensed under the terms specified in the LICENSE file.

## ğŸ†˜ Support

For support, please open an issue on the GitHub repository or contact the
development team.

---

**Wordy** - Transforming document creation with AI-powered intelligence.
